<!DOCTYPE html>
<html>
<head>
<title>Surf CSS3 Playground, by cmdr2</title>

<script>
	  var tag = document.createElement('script');
      tag.src = "http://www.youtube.com/player_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubePlayerAPIReady() {
        player = new YT.Player('tv', {
          playerVars: { 'autoplay': 1, 'controls': 1,'autohide':1,'wmode':'opaque' },
          // videoId: 'MrbiSUgZEbg',
          videoId: 'vXr-2hwTk58',
          width: '853',
          height: '480'
        });
      }
</script>

<style>
* {
	margin: 0px;
	padding: 0px;
}
body {
	background: black;
}
#viewport {
	perspective: 700px;
	width: 100%;
	height: 100%;
	position: absolute;
	overflow: hidden;
	border: 1px solid green;
}
#camera {
	left: 50%;
	top: 50%;
}
#world {
	transform-style: preserve-3d;
	animation: slideDown 10sec infinite;
}
#tv {
	width: 853px;
	height: 480px;
	/*background: red;*/
	transform: translate3d(-421px, -240px, -1100px);
}
#remote {
	display: none;
	width: 40px;
	height: 70px;
	transform: translate3d(30px, 10px, -300px) rotateX(60deg);
}
#table {
	display: none;
	width: 300px;
	height: 120px;
	transform: translate3d(-143px, -10px, -370px) rotateX(90deg);
}

/* random stupid squares */
#sidePanel {
	width: 80px;
	height: 150px;
	background: blue;
	transform: translate3d(0px, -450px, 1100px) rotateX(45deg);
}
#bottomPanel {
	width: 88px;
	height: 150px;
	background: purple;
	transform: translate3d(0px, 1100px, 0px) rotateX(90deg);
}
#topPanel {
	width: 90px;
	height: 150px;
	background: gray;
	transform: translate3d(0px, -1100px, 0px) rotateX(90deg);
}

#htmlEditor {
	transform: translate3d(-1100px, -200px, 225px) rotateY(90deg);
}
#htmlEditor label {
	color: white;
}

#cssEditor {
	transform: translate3d(-1100px, -200px, -225px) rotateY(90deg);
}
#cssEditor label {
	color: white;
}

#mouseCursor {
	display: none;
	position: absolute;
	color: white;
	width: 10px;
	height: 10px;
}


.threedee {
	position: absolute;
	transform-style: preserve-3d;
}
.editor {
	width: 400px;
	height: 300px;
}
</style>

<script>
var world, camera, mouseCursor;

/**
 * eye: -1 is left, +1 is right
 * orientationMatrix: 16-element matrix3d()
 */
function render(eye, orientationMatrix) {
	camera.style.transform = 'translate3d(' + (eye * -100) + 'px, 0px, 700px) ' + orientationMatrix;
	// camera.style.transform = 'translate3d(' + (eye * -30) + 'px, 0px, 700px) rotateY(220deg)';
}

/* postMessage stuff for receiving camera rotations and parallax filters */
window.addEventListener('message', receiveMessage, false);

function receiveMessage(event) {
	if (event.origin.indexOf('chrome://surf') !== 0)
		return;

	if (event.data.type === 'render') {
		render(event.data.eye, event.data.orientationMatrix); // -1 is left, +1 is right
		document.body.offsetHeight; // force DOM repaint
	} else if (event.data.type === 'mouseEvent') {
		mouseCursor.style.left = event.data.x + 'px';
		mouseCursor.style.top = event.data.y + 'px';
	} else if (event.data.type === 'keyboardEvent') {
		
	}
}

window.addEventListener('load', function() {
	world = document.getElementById('world');
	camera = document.getElementById('camera');
	mouseCursor = document.getElementById('mouseCursor');
	render(-1, '');
});
</script>

</head>

<body>
<div id="viewport">
 <div id="camera" class="threedee">
  <div id="world">
   <div id="tv" class="threedee"></div>
   <img id="remote" src='remote-control.gif' class="threedee" />
   <img id="table" src='wooden-table.jpg' class="threedee" />
   <div id="sidePanel" class="threedee"></div>
   <div id="bottomPanel" class="threedee"></div>
   <div id="topPanel" class="threedee"></div>

   <div id="htmlEditor" class="threedee">
   	<label>HTML</label>
   	<textarea class="editor"></textarea>
   </div>
   <div id="cssEditor" class="threedee">
   	<label>CSS</label>
   	<textarea class="editor"></textarea>
   </div>
  </div>
 </div>
</div>
<div id="mouseCursor">x</div>
</body>
</html>